<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Arcade Operator</title>
  <style>
    body { background: black; color: #0ff; font-family: 'Press Start 2P', monospace; text-align:center; }
    button { background:#f0f; color:#0ff; border:2px solid #0ff; padding:10px; margin:10px; cursor:pointer; }
    #log { background:#000; color:#0f0; border:1px solid #0ff; padding:10px; margin-top:20px; height:200px; overflow:auto; white-space:pre-wrap; }
  </style>
</head>
<body>
  <h1>Arcade Operator</h1>
  <button id="ignite">Ignite</button>
  <button id="handover">Handover</button>
  <button id="query">Query Memory</button>
  <pre id="log"></pre>
  <script>
    async function streamText(url, options) {
      const resp = await fetch(url, options);
      const text = await resp.text();
      document.getElementById('log').textContent = text;
    }
    document.getElementById('ignite').onclick = () => streamText('/start_ignition', {method:'POST'});
    document.getElementById('handover').onclick = () => streamText('/handover', {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({component:'demo', error:'boom'})});
    document.getElementById('query').onclick = async () => {
      const resp = await fetch('/status');
      const data = await resp.json();
      document.getElementById('log').textContent = JSON.stringify(data, null, 2);
    };
  </script>
</body>
</html>
