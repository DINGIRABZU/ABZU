flowchart LR
    layer_init[(layer_init<br/>ready · skipped · error)] --> Cortex
    layer_init --> Emotional
    layer_init --> Mental
    layer_init --> Spiritual
    layer_init --> Narrative

    Query[query_memory] --> Cortex
    Query --> Emotional
    Query --> Mental
    Query --> Spiritual
    Query --> Narrative

    Cortex --> Aggregate
    Emotional --> Aggregate
    Mental --> Aggregate
    Spiritual --> Aggregate
    Narrative --> Aggregate

    Aggregate --> StatusMap[Status map + failed_layers]
    StatusMap --> OperatorAgent[Operator Agent]
