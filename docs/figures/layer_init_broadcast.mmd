%% Layer initialization broadcast diagram
%% Version: v1.2.0
%% Last updated: 2025-10-09
graph TD
    MB[MemoryBundle.initialize]
    MB -->|layer_init<br/>layers map| EB[(EventBus: memory)]
    MB -->|layer_init<br/>diagnostics| Diagnostics[[Diagnostics<br/>failed_attempts · fallbacks]]
    Diagnostics --> StageB[Stage B readiness]
    StageB --> Gauges[[Prometheus<br/>razar_memory_init_*]]
    EB -->|cortex: ready| Cortex[Cortex]
    EB -->|emotional: ready| Emotional[Emotional]
    EB -->|mental: skipped| Mental[Mental]
    EB -->|spiritual: ready| Spiritual[Spiritual]
    EB -->|narrative: ready/error| Narrative[Narrative]
    classDef ready stroke:#24d05a,fill:#e9fcef,color:#0c3b1c;
    classDef skipped stroke:#f5a623,fill:#fff5e6,color:#5a3d07;
    classDef error stroke:#f04747,fill:#fdeaea,color:#5a0a0a;
    class Cortex,Emotional,Spiritual ready;
    class Mental skipped;
    class Narrative error;

