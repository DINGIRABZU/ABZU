# Chakra Heartbeat Metrics

This guide outlines the Prometheus heartbeat gauges generated by
`spiral_os.chakra_cycle` and the alignment checks performed by
`monitoring.chakra_heartbeat`.

## Heartbeat Gauges

`ChakraCycle` emits a `chakra_heartbeat` gauge for each chakra.  The gauge's
value is a normalized phase in the range `[0,1)` derived from the gear ratios
below:

| Chakra    | Gear ratio |
|-----------|-----------:|
| root      | 1 |
| sacral    | 2 |
| solar     | 3 |
| heart     | 5 |
| throat    | 8 |
| third_eye | 13 |
| crown     | 21 |

## Alignment Threshold

`ChakraHeartbeat` polls the gauges and persists the most recent timestamp for
each chakra to `DistributedMemory`.  When the difference between the newest and
oldest heartbeat is below the `0.5`&nbsp;second threshold, a
`synchronized` event is broadcast and request traffic proceeds through the
router.  If the chakras fall outside this window, requests are blocked until the
system realigns.
