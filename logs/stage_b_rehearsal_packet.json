{
  "generated_at": "2025-09-21T18:41:58Z",
  "stage": "B",
  "context": "stage-b-rehearsal",
  "connectors": {
    "operator_api": {
      "connector_id": "operator_api",
      "module": "connectors.operator_api_stage_b",
      "handshake_request": {
        "identity": {
          "connector_id": "operator_api",
          "version": "0.1.0",
          "instance": "local"
        },
        "supported_contexts": [
          {
            "name": "stage-b-rehearsal",
            "channels": [
              "handshake",
              "heartbeat",
              "command"
            ],
            "capabilities": [
              "register",
              "telemetry",
              "command"
            ]
          }
        ],
        "rotation": {
          "last_rotated": "2025-09-21T18:41:58Z",
          "rotation_window": "PT48H",
          "supports_hot_swap": true,
          "token_hint": "operator"
        }
      },
      "handshake_response": {
        "authenticated": true,
        "session": {
          "id": "sess-operator",
          "credential_expiry": "2025-12-01T00:00:00Z"
        },
        "accepted_contexts": [
          "stage-b-rehearsal"
        ]
      },
      "heartbeat_request": {
        "status": "aligned",
        "chakra": "operator",
        "cycle_count": 0,
        "context": "stage-b-rehearsal",
        "credential_expiry": "2025-12-01T00:00:00Z",
        "emitted_at": "2025-09-21T18:41:58Z"
      },
      "heartbeat_payload": {
        "status": "aligned",
        "chakra": "operator",
        "cycle_count": 0,
        "context": "stage-b-rehearsal",
        "credential_expiry": "2025-12-01T00:00:00Z",
        "emitted_at": "2025-09-21T18:41:58Z"
      },
      "doctrine_ok": true,
      "doctrine_failures": [],
      "supported_channels": [
        "handshake",
        "heartbeat",
        "command"
      ],
      "capabilities": [
        "register",
        "telemetry",
        "command"
      ]
    },
    "operator_upload": {
      "connector_id": "operator_upload",
      "module": "connectors.operator_upload_stage_b",
      "handshake_request": {
        "identity": {
          "connector_id": "operator_upload",
          "version": "0.1.0",
          "instance": "local"
        },
        "supported_contexts": [
          {
            "name": "stage-b-rehearsal",
            "channels": [
              "handshake",
              "heartbeat",
              "upload"
            ],
            "capabilities": [
              "register",
              "telemetry",
              "upload"
            ]
          }
        ],
        "rotation": {
          "last_rotated": "2025-09-21T18:41:58Z",
          "rotation_window": "PT48H",
          "supports_hot_swap": true,
          "token_hint": "operator-upload"
        }
      },
      "handshake_response": {
        "authenticated": true,
        "session": {
          "id": "sess-upload",
          "credential_expiry": "2025-12-01T00:00:00Z"
        },
        "accepted_contexts": [
          "stage-b-rehearsal"
        ]
      },
      "heartbeat_request": {
        "status": "aligned",
        "chakra": "operator",
        "cycle_count": 0,
        "context": "stage-b-rehearsal",
        "credential_expiry": "2025-12-01T00:00:00Z",
        "emitted_at": "2025-09-21T18:41:58Z"
      },
      "heartbeat_payload": {
        "status": "aligned",
        "chakra": "operator",
        "cycle_count": 0,
        "context": "stage-b-rehearsal",
        "credential_expiry": "2025-12-01T00:00:00Z",
        "emitted_at": "2025-09-21T18:41:58Z"
      },
      "doctrine_ok": true,
      "doctrine_failures": [],
      "supported_channels": [
        "handshake",
        "heartbeat",
        "upload"
      ],
      "capabilities": [
        "register",
        "telemetry",
        "upload"
      ]
    },
    "crown_handshake": {
      "connector_id": "crown_handshake",
      "module": "connectors.crown_handshake_stage_b",
      "handshake_request": {
        "identity": {
          "connector_id": "crown_handshake",
          "version": "0.1.0",
          "instance": "local"
        },
        "supported_contexts": [
          {
            "name": "stage-b-rehearsal",
            "channels": [
              "handshake",
              "heartbeat",
              "mission-brief"
            ],
            "capabilities": [
              "register",
              "telemetry",
              "mission-brief"
            ]
          }
        ],
        "rotation": {
          "last_rotated": "2025-09-21T18:41:58Z",
          "rotation_window": "PT48H",
          "supports_hot_swap": true,
          "token_hint": "crown"
        }
      },
      "handshake_response": {
        "authenticated": true,
        "session": {
          "id": "sess-crown",
          "credential_expiry": "2025-11-15T00:00:00Z"
        },
        "accepted_contexts": [
          "stage-b-rehearsal"
        ]
      },
      "heartbeat_request": {
        "status": "mission-brief-ready",
        "chakra": "crown",
        "cycle_count": 0,
        "context": "stage-b-rehearsal",
        "credential_expiry": "2025-11-15T00:00:00Z",
        "emitted_at": "2025-09-21T18:41:58Z"
      },
      "heartbeat_payload": {
        "status": "mission-brief-ready",
        "chakra": "crown",
        "cycle_count": 0,
        "context": "stage-b-rehearsal",
        "credential_expiry": "2025-11-15T00:00:00Z",
        "emitted_at": "2025-09-21T18:41:58Z"
      },
      "doctrine_ok": true,
      "doctrine_failures": [],
      "supported_channels": [
        "handshake",
        "heartbeat",
        "mission-brief"
      ],
      "capabilities": [
        "register",
        "telemetry",
        "mission-brief"
      ]
    }
  },
  "rehearsal_runs": [
    {
      "run_id": "20250921T230434Z",
      "bundle": "logs/stage_b/20250921T230434Z/rehearsals/",
      "session_total": 2,
      "sessions": [
        {
          "session_id": "session_01",
          "seed": 101,
          "steps": 3,
          "max_sync_offset_s": 0.067,
          "dropouts_detected": false,
          "telemetry": {
            "run_summary": "session_01/telemetry/run_summary.json",
            "summary": "session_01/telemetry/summary.json",
            "events": "session_01/telemetry/events.jsonl",
            "media_manifest": "session_01/telemetry/media_manifest.json"
          },
          "emotion_stream": "session_01/emotion/stream.jsonl",
          "audio_dir": "session_01/audio",
          "video_dir": "session_01/video",
          "run_log": "session_01/run.log"
        },
        {
          "session_id": "session_02",
          "seed": 202,
          "steps": 3,
          "max_sync_offset_s": 0.067,
          "dropouts_detected": false,
          "telemetry": {
            "run_summary": "session_02/telemetry/run_summary.json",
            "summary": "session_02/telemetry/summary.json",
            "events": "session_02/telemetry/events.jsonl",
            "media_manifest": "session_02/telemetry/media_manifest.json"
          },
          "emotion_stream": "session_02/emotion/stream.jsonl",
          "audio_dir": "session_02/audio",
          "video_dir": "session_02/video",
          "run_log": "session_02/run.log"
        }
      ],
      "fallbacks": {
        "audio_env_check": {
          "timestamp": "2025-09-21T23:07:05Z",
          "command": "PYTHONPATH=src python -m audio.check_env --strict",
          "missing": [
            {
              "module": "ffmpeg",
              "impact": "FFmpeg binary unavailable; pydub operations fall back to the NumPy segment backend."
            },
            {
              "module": "simpleaudio",
              "impact": "Realtime buffer playback disabled; rehearsal playback limited to file renders."
            },
            {
              "module": "clap",
              "impact": "CLAP embeddings unavailable; retrieval telemetry omitted."
            },
            {
              "module": "rave",
              "impact": "RAVE latent morphing disabled; neural timbre morphs skipped."
            }
          ],
          "notes": "Audio backend operated in NumPy fallback due to missing FFmpeg and simpleaudio."
        }
      }
    }
  ]
}
